---
import AboutMe from "@/components/AboutMe.astro";
import Experience from "../components/Experience.astro";
import Hero from "@/components/Hero.astro";
import Layout from "../layouts/Layout.astro";
import Projects from "../components/Projects.astro";
import SectionContainer from "../components/SectionContainer.astro";
import TitleSection from "@/components/TitleSection.astro";
import ExperienceIcon from "@/components/icons/ExperienceIcon.astro";
import ProjectsIcon from "@/components/icons/ProjectsIcon.astro";
---

<Layout
  title="Portafolio de Edgar Medina - Desarrollador Full-Stack Jr con +2 a√±os de experiencia"
  description="Conoce a Edgar Medina, un desarrollador Full-Stack Jr con +2 a√±os de experiencia."
>
  <main class="px-4 lg:px-0">
    <SectionContainer class="py-16 md:py-36 pb-24">
      <Hero />
    </SectionContainer>

    <SectionContainer id="experiencia">
      <TitleSection>
        <ExperienceIcon class="size-8" /> Experiencia Laboral
      </TitleSection>
      <Experience />
    </SectionContainer>

    <SectionContainer id="proyectos">
      <TitleSection>
        <ProjectsIcon class="size-8" /> Proyectos
      </TitleSection>
      <Projects />
    </SectionContainer>

    <SectionContainer id="sobre-mi">
      <TitleSection> üë®‚Äçüíª Sobre m√≠ </TitleSection>
      <AboutMe />
    </SectionContainer>
  </main>
</Layout>

<script is:inline>
  // Guardar la posici√≥n del scroll antes de abandonar la p√°gina
  window.addEventListener("beforeunload", () => {
    sessionStorage.setItem("scrollPosition", window.scrollY.toString());
  });

  // Restaurar la posici√≥n del scroll al cargar la p√°gina
  window.addEventListener("load", () => {
    const scrollPosition = sessionStorage.getItem("scrollPosition");
    if (scrollPosition) {
      window.scrollTo(0, parseInt(scrollPosition, 10));
      sessionStorage.removeItem("scrollPosition"); // Limpiar despu√©s de restaurar
    }
  });
</script>
